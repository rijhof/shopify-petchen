/* assets/template-cart.css */
.cart__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: calc(var(--baseline) * 4);
}

.cart__title {
    margin: 0;
}

.cart__content {
    background-color: var(--color-white);
    border-radius: calc(var(--baseline) * 2);
    padding: calc(var(--baseline) * 3);
    margin-bottom: calc(var(--baseline) * 4);
}

.cart__table-header {
    display: grid;
    grid-template-columns: 80px 1fr auto auto;
    gap: calc(var(--baseline) * 4);
    padding-bottom: calc(var(--baseline) * 2);
    border-bottom: 1px solid var(--color-background-three);
}

.cart__table-header-item--product {
    grid-column: 1 / 3;
}

.cart__table-header-item--total {
    min-width: 168px;
}

.cart-item {
    display: grid;
    grid-template-columns: 80px 1fr auto auto;
    gap: calc(var(--baseline) * 3);
    align-items: center;
    transition: opacity var(--transition-duration) ease;
}

.cart__items {
    display: flex;
    flex-direction: column;
    gap: calc(var(--baseline) * 3);
    padding-block: calc(var(--baseline) * 3);
}

.cart-item__image {
    width: 80px;
    height: 80px;
}

.cart-item__media {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: calc(var(--border-radius) / 2);
}

.cart-item__media--placeholder {
    background-color: var(--color-grey-light);
}

.cart-item__details {
    min-width: 0;
}

.cart-item__title {
    margin-bottom: 4px;
}

.cart-item__title a {
    text-decoration: none;
    color: var(--color-text);
    transition: color var(--transition-duration) ease;
    max-width: var(--content-max-width);
}

.cart-item__title a:hover {
    color: var(--color-primary);
}

.cart-item__usp {
    margin-bottom: 4px;
    color: var(--color-text);
    max-width: var(--content-max-width);
}

.cart-item__unit-price {
    margin-bottom: 0;
    font-weight: var(--font-weight-medium);
    color: var(--color-text);
    max-width: var(--content-max-width);
}

/* Updated quantity controls styling */
.cart-item__quantity-controls {
    display: flex;
    align-items: center;
    gap: calc(var(--baseline) * 1.5);
    min-width: 184px;
}

.cart__table-header-item--quantity {
    min-width: 184px;
}

.cart-item__quantity-wrapper {
    display: flex;
    height: 54px;
    justify-content: center;
    align-items: center;
    border-radius: var(--border-radius);
    border: 1px solid var(--color-grey);
    overflow: visible;
    width: fit-content;
}

.cart-item__quantity-button {
    width: 48px;
    height: 54px;
    border: none;
    background: transparent;
    color: var(--color-text);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color var(--transition-duration) ease;
    margin: 0;
    padding: 0;
}

.cart-item__quantity-button:hover {
    background: transparent;
    opacity: 0.7;
}

.cart-item__quantity-input {
    border: 0 !important;
    padding: 0 !important;
    width: 40px;
    height: auto;
    text-align: center;
    background: transparent;
    outline: none;
    -moz-appearance: textfield;
    font-size: inherit;
    color: inherit;
    font-family: inherit;
}

.cart-item__quantity-input::-webkit-outer-spin-button,
.cart-item__quantity-input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

/* Remove button styling - now using button classes */
.cart-item__remove {
    margin: 0;
}

.cart-item__price {
    text-align: right;
    min-width: 168px;
}

.cart-item__price-total {
    font-size: var(--font-size-paragraph);
    font-weight: var(--font-weight-medium);
    color: var(--color-text);
}

.cart-item__price-unit {
    margin-top: calc(var(--baseline) * 0.5);
}

/* Updated cart footer styling - no background, max 528px, right aligned */
.cart__footer {
    display: flex;
    justify-content: flex-end;
    margin-top: calc(var(--baseline) * 4);
}

.cart__clear-section {
    display: flex;
    justify-content: flex-end;
}

.cart__clear-button {
    margin-bottom: 0;
}

.cart__summary {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    max-width: 528px;
    width: 100%;
}

.cart__subtotal {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: calc(var(--baseline) * 4);
    width: 100%;
    margin-bottom: calc(var(--baseline) * 1);
}

.cart__subtotal-label {
    font-size: var(--font-size-h5);
    font-weight: var(--font-weight-medium);
}

.cart__subtotal-price {
    font-size: var(--font-size-h4);
    font-weight: var(--font-weight-medium);
    color: var(--color-primary);
}

.cart__tax-note {
    text-align: left;
    margin-right: auto;
    margin-bottom: calc(var(--baseline) * 4);
}

/* Dynamic checkout buttons styling */
.cart__dynamic-checkout {
    width: 100%;
}

.cart__dynamic-checkout [data-shopify="dynamic-checkout"] {
    width: 100%;
}

.cart__dynamic-checkout .shopify-payment-button {
    width: 100%;
}

.cart__dynamic-checkout .shopify-payment-button__button {
    width: 100% !important;
    margin-bottom: calc(var(--baseline) * 1);
}

.cart__dynamic-checkout .shopify-payment-button__more-options {
    color: var(--color-text);
    text-align: center;
    margin: calc(var(--baseline) * 1) 0;
}

.cart__actions {
    width: 100%;
}

.cart__actions .button-primary,
.cart__checkout-button {
    margin-bottom: calc(var(--baseline) * 3);
}

.cart__empty {
    background-color: var(--color-white);
    border-radius: var(--border-radius);
    padding: calc(var(--baseline) * 8);
    text-align: center;
}

.cart__empty-text {
    font-size: var(--font-size-h5);
    margin-bottom: calc(var(--baseline) * 3);
}

.cart-item--updating {
    opacity: 0.5;
    pointer-events: none;
}

/* Desktop styles for new wrapper structure */
@media (min-width: 1025px) {
    .cart-item__image-details-row {
        display: contents; /* Makes wrapper invisible for grid layout */
    }

    .cart-item__controls-price-row {
        display: contents; /* Makes wrapper invisible for grid layout */
    }
}

/* Mobile and Tablet Responsive Styles - bis 1024px */
@media (max-width: 1024px) {
    .cart__header {
        flex-direction: column;
        align-items: flex-start;
        gap: calc(var(--baseline) * 3);
    }

    .cart__content {
        padding: calc(var(--baseline) * 3);
    }

    .cart__table-header {
        display: grid;
        grid-template-columns: 1fr;
        gap: 0;
        padding-bottom: calc(var(--baseline) * 2);
        border-bottom: 1px solid var(--color-background-three);
    }

    /* Nur "Produkt" im Header sichtbar */
    .cart__table-header-item--quantity,
    .cart__table-header-item--total {
        display: none;
    }

    .cart__table-header-item--product {
        grid-column: 1;
    }

    .cart-item {
        display: grid;
        grid-template-columns: 1fr;
        grid-template-areas:
            "image-details"
            "controls-price";
        gap: calc(var(--baseline) * 2);
    }

    /* Erste Zeile: Image + Details */
    .cart-item__image-details-row {
        display: flex;
        align-items: flex-start;
        gap: calc(var(--baseline) * 3);
        grid-area: image-details;
    }

    .cart-item__details {
        flex: 1;
        min-width: 0;
    }

    /* Zweite Zeile: Quantity Controls + Price */
    .cart-item__controls-price-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        grid-area: controls-price;
    }

    .cart-item__quantity {
        flex: 0 0 auto;
    }

    .cart-item__quantity-controls {
        flex-direction: row;
        align-items: center;
        gap: calc(var(--baseline) * 1);
        min-width: auto;
    }

    .cart-item__price {
        text-align: right;
        min-width: auto;
        flex: 0 0 auto;
    }

    .cart__footer {
        justify-content: stretch;
    }

    .cart__summary {
        width: 100%;
        max-width: none;
        align-items: stretch;
    }

    .cart__tax-note {
        text-align: left;
    }
}

@media (min-width: 1025px) {
    .cart__summary {
        max-width: 528px;
    }
}

@media (prefers-reduced-motion: reduce) {
    .cart-item,
    .cart-item__title a,
    .cart-item__quantity-button,
    .cart-item__remove {
        transition-duration: 0.001ms;
    }
}