<!DOCTYPE html>
<html lang="{{ request.locale.iso_code }}">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="theme-color" content="">

  <link rel="canonical" href="{{ canonical_url }}">
  <link rel="preconnect" href="https://cdn.shopify.com" crossorigin>

  {%- if settings.favicon != blank -%}
    <link rel="icon" type="image/png" href="{{ settings.favicon | image_url: width: 32, height: 32 }}">
  {%- endif -%}

  {%- unless settings.type_header_font.system? and settings.type_body_font.system? -%}
    <link rel="preconnect" href="https://fonts.shopifycdn.com" crossorigin>
  {%- endunless -%}

  <!-- Font Preloading fÃ¼r bessere Performance -->
  <link rel="preload" href="{{ 'font-arlen--light.woff2' | asset_url }}" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="{{ 'font-arlen--regular.woff2' | asset_url }}" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="{{ 'font-arlen--semi-bold.woff2' | asset_url }}" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="{{ 'font-camera-obscura.woff2' | asset_url }}" as="font" type="font/woff2" crossorigin>

  <!-- CRITICAL CSS - Inline the most important styles -->
  <style>
    /* Font-face declarations */
    @font-face {
      font-family: 'Arlen';
      src: url('{{ 'font-arlen--light.woff2' | asset_url }}') format('woff2');
      font-weight: 100 300;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Arlen';
      src: url('{{ 'font-arlen--regular.woff2' | asset_url }}') format('woff2');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Arlen';
      src: url('{{ 'font-arlen--semi-bold.woff2' | asset_url }}') format('woff2');
      font-weight: 600;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Camera Obscura';
      src: url('{{ 'font-camera-obscura.woff2' | asset_url }}') format('woff2');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }

    /* Critical Variables */
    :root {
      --baseline: 8px;
      --color-primary: #3F593F;
      --color-secondary: #F4F2E4;
      --color-background: #DFECDF;
      --color-text: #2F4027;
      --color-white: #FFFFFF;
      --font-family-headlines: 'Camera Obscura';
      --font-family-paragraph: 'Arlen';
      --font-weight-light: 100;
      --font-weight-normal: 400;
      --font-weight-medium: 600;
      --container-padding-mobile: 16px;
      --container-padding-desktop: 64px;
      --component-spacing-mobile: 64px;
      --component-spacing-desktop: 120px;
      --container-max-width: 1920px;
      --transition-duration: 0.25s;
    }

    /* Critical Base Styles */
    *, *::before, *::after {
      box-sizing: border-box;
    }

    html {
      font-size: 16px;
      line-height: 1.5;
    }

    body {
      background-color: var(--color-secondary);
      color: var(--color-text);
      font-family: var(--font-family-paragraph);
      font-weight: var(--font-weight-light);
      margin: 0;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Critical Layout */
    .container {
      padding-left: var(--container-padding-mobile);
      padding-right: var(--container-padding-mobile);
      margin: 0 auto;
      max-width: var(--container-max-width);
    }

    @media (min-width: 768px) {
      .container {
        padding-left: 24px;
        padding-right: 24px;
      }
    }

    @media (min-width: 1280px) {
      .container {
        padding-left: var(--container-padding-desktop);
        padding-right: var(--container-padding-desktop);
      }
    }

    .section {
      padding-top: var(--component-spacing-mobile);
      padding-bottom: var(--component-spacing-mobile);
      position: relative;
    }

    @media (min-width: 768px) {
      .section {
        padding-top: 80px;
        padding-bottom: 80px;
      }
    }

    @media (min-width: 1280px) {
      .section {
        padding-top: var(--component-spacing-desktop);
        padding-bottom: var(--component-spacing-desktop);
      }
    }

    /* Critical Typography */
    h1, h2, h3, h4, h5, h6 {
      color: var(--color-primary);
      font-family: var(--font-family-headlines);
      font-weight: 400;
      margin: 0 0 24px;
    }

    p {
      color: var(--color-text);
      font-family: var(--font-family-paragraph);
      font-size: 20px;
      font-weight: var(--font-weight-light);
      line-height: 1.5;
      margin: 0 0 24px;
    }

    /* Visibility for above-the-fold content */
    img {
      display: block;
      height: auto;
      max-width: 100%;
    }

    /* Prevent layout shift */
    .hero-section {
      min-height: 750px;
    }

    @media (min-width: 768px) {
      .hero-section {
        min-height: 600px;
      }
    }
  </style>

  <title>
    {{ page_title }}
    {%- if current_tags %} &ndash; tagged "{{ current_tags | join: ', ' }}"{% endif -%}
    {%- if current_page != 1 %} &ndash; Page {{ current_page }}{% endif -%}
    {%- unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless -%}
  </title>

  {% if page_description %}
    <meta name="description" content="{{ page_description | escape }}">
  {% endif %}

  {% render 'meta-tags' %}

  {{ content_for_header }}

  <!-- Load non-critical CSS asynchronously -->
  <link rel="preload" href="{{ 'theme.css' | asset_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="{{ 'theme.css' | asset_url }}"></noscript>

  <!-- Preload critical section CSS if hero is present -->
  {% if template contains 'index' %}
    <link rel="preload" href="{{ 'section-hero.css' | asset_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="{{ 'section-hero.css' | asset_url }}"></noscript>
  {% endif %}

  <!-- Load header CSS with higher priority but still async -->
  <link rel="preload" href="{{ 'section-header.css' | asset_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="{{ 'section-header.css' | asset_url }}"></noscript>

  <!-- Cart notification can load later -->
  <link rel="preload" href="{{ 'cart-notification.css' | asset_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="{{ 'cart-notification.css' | asset_url }}"></noscript>

  <!-- Script to handle CSS loading -->
  <script>
    /*! loadCSS. [c]2020 Filament Group, Inc. MIT License */
    !function(n){"use strict";n.loadCSS||(n.loadCSS=function(){});var o=loadCSS.relpreload={};if(o.support=function(){var e;try{e=n.document.createElement("link").relList.supports("preload")}catch(t){e=!1}return function(){return e}}(),o.bindMediaToggle=function(t){var e=t.media||"all";function a(){t.addEventListener?t.removeEventListener("load",a):t.attachEvent&&t.detachEvent("onload",a),t.setAttribute("onload",null),t.media=e}t.addEventListener?t.addEventListener("load",a):t.attachEvent&&t.attachEvent("onload",a),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(a,3e3)},o.poly=function(){if(!o.support())for(var t=n.document.getElementsByTagName("link"),e=0;e<t.length;e++){var a=t[e];"preload"!==a.rel||"style"!==a.getAttribute("as")||a.getAttribute("data-loadcss")||(a.setAttribute("data-loadcss",!0),o.bindMediaToggle(a))}},!o.support()){o.poly();var t=n.setInterval(o.poly,500);n.addEventListener?n.addEventListener("load",function(){o.poly(),n.clearInterval(t)}):n.attachEvent&&n.attachEvent("onload",function(){o.poly(),n.clearInterval(t)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:n.loadCSS=loadCSS}("undefined"!=typeof global?global:this);
  </script>

  <!-- Defer JavaScript loading -->
  <script src="{{ 'snippet-product-card.js' | asset_url }}" defer></script>
  <link rel="stylesheet" href="{{ 'snippet-product-card-modal.css' | asset_url }}" media="print" onload="this.media='all'">

  <link rel="preload" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"></noscript>

  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js" defer></script>
  <script src="{{ 'js-section-header.js' | asset_url }}" defer></script>

</head>
<body>
{% section 'header' %}
<main id="main" class="main" role="main" tabindex="-1">
  {{ content_for_layout }}
</main>
{% section 'footer' %}

{% render 'cart-notification' %}

<script src="{{ 'cart-notification.js' | asset_url }}" defer></script>
<script src="{{ 'index.js' | asset_url }}" defer="defer"></script>
</body>
</html>